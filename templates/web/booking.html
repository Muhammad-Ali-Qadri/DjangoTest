{% extends 'web/base_template.html' %}
{% load staticfiles %}
{% load cloudinary %}
{% block content %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <script>
        var checkBoxes = $('body #select_type');
        checkBoxes.change(function () {
            $('#book_btn').prop('disabled', checkBoxes.filter(':checked').length < 1);
        });
        $('body #select_type').change();
    </script>

    <div class="my-5 ml-5">
        <form method="post" action="{% url 'check' %}">
            {% csrf_token %}
            <div class="form-row">
                <div class="form-group col-md-3">
                    <label for="inputcheckin">Check in Date</label>
                    {% if check_in is not None %}
                        <input type="date" class="form-control" id="inputcheckin" value="{{ check_in }}" name="check_in"
                               required>
                    {% else %}
                        <input type="date" class="form-control" id="inputcheckin" value="5/05/2018" name="check_in"
                               required>
                    {% endif %}
                </div>
                <div class="form-group col-md-3">
                    <label for="inputcheckout">Check out Date</label>
                    {% if check_out is not None %}
                        <input type="date" class="form-control" id="inputcheckout" value="{{ check_out }}"
                               name="check_out" required>
                    {% else %}
                        <input type="date" class="form-control" id="inputcheckout" value="5/05/2018" name="check_out"
                               required>
                    {% endif %}
                </div>
                <div class="form-group col-md-5 my-4">
                    <button type="submit" class="btn btn-primary">CHECK</button>
                </div>

            </div>
        </form>

    </div>
    {% if available is not None %}
        <form method="post" action="{% url 'booking' %}">
            {% csrf_token %}
            <div class="form-row ml-5">
                <div class="form-group col-md-3">
                    <label for="total">Total Amount</label>
                    <input type="text" class="form-control" id="total" placeholder="0.0Rs" readonly>
                </div>
                <div class="form-group col-md-5 my-4">
                    <button type="submit" class="btn btn-primary" id="book_btn">BOOK</button>
                </div>
            </div>

            <div class="my-3 ml-5">
            <div class="row">

                {% for zipped in available %}

                    <div class="col-sm-auto">
                        <div class="card" style="width: 18rem;">
                            <label id="type_id" hidden>{{ zipped.0.id }}</label>
                            <label id="max_quantity" hidden>{{ zipped.1 }}</label>
                            <label id="type_price" hidden>{{ zipped.0.price }}</label>
                            <img class="card-img-top" src="{{ zipped.2.image.public_id }}" alt="Card image cap">
                            <div class="card-body">
                                <h5 class="card-title">{{ zipped.0.name }}</h5>
                                <p class="card-text">{{ zipped.0.description }}</p>
                            </div>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">
                                    <div class="items">
                                        <ul>
                                        {% if zipped.0.has_air_conditioning %}
                                            <li><a href="#"><span class="img1"> </span></a></li>
                                        {% endif %}
                                            {% if zipped.0.has_dryer %}
                                                <li><a href="#"><span class="img2"> </span></a></li>
                                            {% endif %}
                                            {% if zipped.0.has_room_service %}
                                                <li><a href="#"><span class="img3"> </span></a></li>
                                            {% endif %}
                                            {% if zipped.0.has_electronic_safe %}
                                                <li><a href="#"><span class="img4"> </span></a></li>
                                            {% endif %}
                                            {% if zipped.0.has_wifi %}
                                                <li><a href="#"><span class="img5"> </span></a></li>
                                            {% endif %}
                                            {% if zipped.0.has_breakfast %}
                                                <li><a href="#"><span class="img6"> </span></a></li>
                                            {% endif %}
                                        </ul>
                                    </div>
                                </li>
                        <li class="list-group-item"> Rs.{{ zipped.0.price }} per night</li>
                        <li class="list-group-item"> Max {{ zipped.0.capacity }} persons</li>
                        <li class="list-group-item">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="">Qty</span>
                                </div>
                                <input type="text" class="form-control" name="quantity">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="">max : {{ zipped.1 }}	</span>
                                </div>
                            </div>
                        </li>
                        <li class="list-group-item">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="select_type"
                                       name="select_type">
                                <label class="form-check-label" for="select_type">
                                    &nbsp &nbsp Select Room
                                </label>
                            </div>
                        </li>
                        </ul>

                    </div>
                    </div>

                {% endfor %}
        </div>

        </div>

        </form>


    {% endif %}

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

{% endblock %}